(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.twgl=t():e.twgl=t()})(this,function(){var e=Math.max;return function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p='',t(0)}([function(e,t,r){var a,n;'use strict',a=[r(1)],n=function(e){'use strict';return e}.apply(t,a),!(n!==void 0&&(e.exports=n))},function(t,r,a){var n,o;'use strict',n=[a(2),a(5),a(7),a(6),a(8),a(3),a(9),a(4)],o=function(t,r,a,n,o,i,s,l){'use strict';function m(e){if(e&&b.enableVertexArrayObjects&&l.isWebGL1(e)){var t=e.getExtension('OES_vertex_array_object');t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.VERTEX_ARRAY_BINDING=t.VERTEX_ARRAY_BINDING_OES)}}function E(e,t){for(var r=['webgl','experimental-webgl'],a=null,n=0;n<r.length&&(a=e.getContext(r[n],t),!a);++n);return a}function u(e,t){for(var r=['webgl2','webgl','experimental-webgl'],a=null,n=0;n<r.length&&(a=e.getContext(r[n],t),!a);++n);return a}function d(e){return'_'!==e[e.length-1]}function f(e,t){return Object.keys(e).filter(d).forEach(function(r){t[r]=e[r]}),t}var b={enableVertexArrayObjects:!0},y={getContext:function(e,t){var r=u(e,t);return m(r),r},getWebGLContext:function(e,t){var r=E(e,t);return m(r),r},isWebGL1:l.isWebGL1,isWebGL2:l.isWebGL2,resizeCanvasToDisplaySize:function(t,r){var a=Math.round;r=r||1,r=e(1,r);var n=t.getBoundingClientRect(),o=a(n.width*r),i=a(n.height*r);return(t.width!==o||t.height!==i)&&(t.width=o,t.height=i,!0)},setDefaults:function(e){l.copyExistingProperties(e,b),t.setDefaults_(e),o.setDefaults_(e)}},p={attributes:t,draw:r,framebuffers:a,programs:n,textures:o,typedArrays:i,vertexArrays:s};return Object.keys(p).forEach(function(e){var t=p[e];f(t,y),y[e]=f(t,{})}),y}.apply(r,n),!(o!==void 0&&(t.exports=o))},function(e,t,r){var a,n;'use strict',a=[r(3),r(4)],n=function(e,t){'use strict';function r(e,t,r,a,n){e.bindBuffer(t,r),e.bufferData(t,a,n||e.STATIC_DRAW)}function a(e,t,a,n){if(t instanceof WebGLBuffer)return t;a=a||e.ARRAY_BUFFER;var o=e.createBuffer();return r(e,a,o,t,n),o}function n(e){return'indices'===e}function o(e){return!!(e instanceof Int8Array)||!!(e instanceof Uint8Array)}function i(e){return!(e!==Int8Array)||!(e!==Uint8Array)}function s(e){return e.length?e:e.data}function l(e,t){var r;if(r=T.test(e)?2:c.test(e)?4:3,0<t%r)throw'Can not guess numComponents for attribute \''+e+'\'. Tried '+r+' but '+t+' values is not evenly divisible by '+r+'. You should specify it.';return r}function m(e,t){return e.numComponents||e.size||l(t,s(e).length)}function E(t,r){if(e.isArrayBuffer(t))return t;if(e.isArrayBuffer(t.data))return t.data;Array.isArray(t)&&(t={data:t});var a=t.type;return a||(n(r)?a=Uint16Array:a=Float32Array),new a(t.data)}function u(t,r){var s={};return Object.keys(r).forEach(function(u){if(!n(u)){var d,f,b,y,T,c=r[u],R=c.attrib||c.name||c.attribName||p.attribPrefix+u;if('number'==typeof c||'number'==typeof c.data){T=c.data||c;var x=c.type||Float32Array,_=T*x.BYTES_PER_ELEMENT;f=e.getGLTypeForTypedArrayType(x),b=void 0===c.normalize?i(x):c.normalize,y=c.numComponents||c.size||l(u,T),d=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,_,c.drawType||t.STATIC_DRAW)}else{var A=E(c,u);d=a(t,A,void 0,c.drawType),f=e.getGLTypeForTypedArray(A),b=void 0===c.normalize?o(A):c.normalize,y=m(c,u),T=A.length}s[R]={buffer:d,numComponents:y,type:f,normalize:b,stride:c.stride||0,offset:c.offset||0,drawType:c.drawType}}}),t.bindBuffer(t.ARRAY_BUFFER,null),s}function d(e,t){return t===e.BYTE?1:t===e.UNSIGNED_BYTE?1:t===e.SHORT?2:t===e.UNSIGNED_SHORT?2:t===e.INT?4:t===e.UNSIGNED_INT?4:t===e.FLOAT?4:0}function f(e){for(var t,r=0;r<R.length&&(t=R[r],!(t in e));++r);r===R.length&&(t=Object.keys(e)[0]);var a=e[t],n=s(a).length,o=m(a,t);if(0<n%o)throw'numComponents '+o+' not correct for length '+n;return n/o}function b(e,t){for(var r,a=0;a<R.length&&(r=R[a],!(r in t))&&!(r=p.attribPrefix+r,r in t);++a);a===R.length&&(r=Object.keys(t)[0]);var n=t[r];e.bindBuffer(e.ARRAY_BUFFER,n.buffer);var o=e.getBufferParameter(e.ARRAY_BUFFER,e.BUFFER_SIZE);e.bindBuffer(e.ARRAY_BUFFER,null);var i=d(e,n.type),s=n.numComponents||n.size,l=o/i/s;if(0!=l%1)throw'numComponents '+s+' not correct for length '+length;return l}function y(e,t,r){var n='indices'===r?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER,o=E(t,r);return a(e,o,n)}var p={attribPrefix:''},T=/coord|texture/i,c=/color|colour/i,R=['position','positions','a_position'];return{createAttribsFromArrays:u,createBuffersFromArrays:function(t,r){var a={};return Object.keys(r).forEach(function(e){a[e]=y(t,r[e],e)}),r.indices?(a.numElements=r.indices.length,a.elementType=e.getGLTypeForTypedArray(E(r.indices),'indices')):a.numElements=f(r),a},createBufferFromArray:y,createBufferFromTypedArray:a,createBufferInfoFromArrays:function(t,r){var n={attribs:u(t,r)},o=r.indices;return o?(o=E(o,'indices'),n.indices=a(t,o,t.ELEMENT_ARRAY_BUFFER),n.numElements=o.length,n.elementType=e.getGLTypeForTypedArray(o)):n.numElements=b(t,n.attribs),n},setAttribInfoBufferFromArray:function(e,t,a,n){a=E(a),n===void 0?r(e,e.ARRAY_BUFFER,t.buffer,a,t.drawType):(e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.bufferSubData(e.ARRAY_BUFFER,n,a))},setAttributePrefix:function(e){p.attribPrefix=e},setDefaults_:function(e){t.copyExistingProperties(e,p)},getNumComponents_:m,getArray_:s}}.apply(t,a),!(n!==void 0&&(e.exports=n))},function(e,t){var r,a;'use strict',r=[],a=function(){'use strict';var e=5120,t=5121,r=5122,a=5123,n=5124,o=5125,i=5126,s={};{var l=s;l[e]=Int8Array,l[t]=Uint8Array,l[r]=Int16Array,l[a]=Uint16Array,l[n]=Int32Array,l[o]=Uint32Array,l[i]=Float32Array,l[32819]=Uint16Array,l[32820]=Uint16Array,l[33635]=Uint16Array,l[5131]=Uint16Array,l[33640]=Uint32Array,l[35899]=Uint32Array,l[35902]=Uint32Array,l[36269]=Uint32Array,l[34042]=Uint32Array}return{getGLTypeForTypedArray:function(s){if(s instanceof Int8Array)return e;if(s instanceof Uint8Array)return t;if(s instanceof Uint8ClampedArray)return t;if(s instanceof Int16Array)return r;if(s instanceof Uint16Array)return a;if(s instanceof Int32Array)return n;if(s instanceof Uint32Array)return o;if(s instanceof Float32Array)return i;throw'unsupported typed array type'},getGLTypeForTypedArrayType:function(s){if(s===Int8Array)return e;if(s===Uint8Array)return t;if(s===Uint8ClampedArray)return t;if(s===Int16Array)return r;if(s===Uint16Array)return a;if(s===Int32Array)return n;if(s===Uint32Array)return o;if(s===Float32Array)return i;throw'unsupported typed array type'},getTypedArrayTypeForGLType:function(e){var t=s[e];if(!t)throw'unknown gl type';return t},isArrayBuffer:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer}}}.apply(t,r),!(a!==void 0&&(e.exports=a))},function(e,t){var r,a;'use strict',r=[],a=function(){'use strict';var e=window.console&&window.console.error&&'function'==typeof window.console.error?window.console.error.bind(window.console):function(){},t=window.console&&window.console.warn&&'function'==typeof window.console.warn?window.console.warn.bind(window.console):function(){};return{copyExistingProperties:function(e,t){Object.keys(t).forEach(function(r){t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(t[r]=e[r])})},copyNamedProperties:function(e,t,r){e.forEach(function(e){var a=t[e];a!==void 0&&(r[e]=a)})},shallowCopy:function(e){var t={};return Object.keys(e).forEach(function(r){t[r]=e[r]}),t},isWebGL1:function(e){return!e.texStorage2D},isWebGL2:function(e){return!!e.texStorage2D},error:e,warn:t}}.apply(t,r),!(a!==void 0&&(e.exports=a))},function(e,t,r){var a,n;'use strict',a=[r(6)],n=function(e){'use strict';function t(e,t,r,a,n){r=r===void 0?e.TRIANGLES:r;var o=t.indices,i=t.elementType,s=a===void 0?t.numElements:a;n=n===void 0?0:n,i||o?e.drawElements(r,s,i===void 0?e.UNSIGNED_SHORT:t.elementType,n):e.drawArrays(r,n,s)}return{drawBufferInfo:t,drawObjectList:function(r,a){var n=null,o=null;a.forEach(function(a){if(!1!==a.active){var i=a.programInfo,s=a.vertexArrayInfo||a.bufferInfo,l=!1,m=void 0===a.type?r.TRIANGLES:a.type;i!==n&&(n=i,r.useProgram(i.program),l=!0),(l||s!==o)&&(o&&o.vertexArrayObject&&!s.vertexArrayObject&&r.bindVertexArray(null),o=s,e.setBuffersAndAttributes(r,i,s)),e.setUniforms(i,a.uniforms),t(r,s,m,a.count,a.offset)}}),o.vertexArrayObject&&r.bindVertexArray(null)}}}.apply(t,a),!(n!==void 0&&(e.exports=n))},function(e,t,r){var a,n;'use strict',a=[r(4)],n=function(e){'use strict';function t(e,t){return re[t].bindPoint}function r(e,t){return function(r){e.uniform1i(t,r)}}function a(e,t){return function(r){e.uniform1iv(t,r)}}function n(e,t){return function(r){e.uniform2iv(t,r)}}function o(e,t){return function(r){e.uniform3iv(t,r)}}function i(e,t){return function(r){e.uniform4iv(t,r)}}function s(r,a,n,o){var i=t(r,a);return e.isWebGL2(r)?function(e){var t,a;e instanceof WebGLTexture?(t=e,a=null):(t=e.texture,a=e.sampler),r.uniform1i(o,n),r.activeTexture(r.TEXTURE0+n),r.bindTexture(i,t),r.bindSampler(n,a)}:function(e){r.uniform1i(o,n),r.activeTexture(r.TEXTURE0+n),r.bindTexture(i,e)}}function l(r,a,n,o,i){for(var s=t(r,a),l=new Int32Array(i),m=0;m<i;++m)l[m]=n+m;return e.isWebGL2(r)?function(e){r.uniform1iv(o,l),e.forEach(function(e,t){r.activeTexture(r.TEXTURE0+l[t]);var a,o;e instanceof WebGLTexture?(a=e,o=null):(a=e.texture,o=e.sampler),r.bindSampler(n,o),r.bindTexture(s,a)})}:function(e){r.uniform1iv(o,l),e.forEach(function(e,t){r.activeTexture(r.TEXTURE0+l[t]),r.bindTexture(s,e)})}}function m(e,t){return function(r){e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,r.numComponents||r.size,r.type||e.FLOAT,r.normalize||!1,r.stride||0,r.offset||0)}}function E(e,t){return function(r){e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,r.numComponents||r.size,r.type||e.INT,r.stride||0,r.offset||0)}}function u(e,t,r){var a=r.size,n=r.count;return function(r){e.bindBuffer(e.ARRAY_BUFFER,r.buffer);for(var o=r.size||r.numComponents||a,s=r.type||e.FLOAT,l=re[s],m=l.size*o,E=r.normalize||!1,u=r.offset||0,d=0;d<n;++d)e.enableVertexAttribArray(t+d),e.vertexAttribPointer(t+d,o/n,s,E,m,u+m/n*d)}}function d(e,t){return t=t||0,++t,e.split('\n').map(function(e,r){return r+t+': '+e}).join('\n')}function f(e,t,r,a){var n=e.createShader(r),o=0;oe.test(t)&&(o=1,t=t.replace(oe,'')),e.shaderSource(n,t),e.compileShader(n);var i=e.getShaderParameter(n,e.COMPILE_STATUS);if(!i){var s=e.getShaderInfoLog(n);return(a||N)(d(t,o)+'\n*** Error compiling shader: '+s),e.deleteShader(n),null}return n}function b(e,t,r){if('function'==typeof t&&(r=t,t=void 0),'function'==typeof e)r=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var a=e;r=a.errorCallback,e=a.attribLocations;var n=a.transformFeedbackVaryings}var o={errorCallback:r||N,transformFeedbackVaryings:n};if(e){var i={};Array.isArray(e)?e.forEach(function(e,r){i[e]=t?t[r]:r}):i=e,o.attribLocations=i}return o}function y(e){if(0<=e.indexOf('frag'))return ne.FRAGMENT_SHADER;return 0<=e.indexOf('vert')?ne.VERTEX_SHADER:void 0}function p(e,t){t.forEach(function(t){e.deleteShader(t)})}function T(e,t,r,a,n){for(var o,i=b(r,a,n),s=[],l=[],m=0;m<t.length;++m){if(o=t[m],'string'==typeof o){var E=document.getElementById(o),u=E?E.text:o,d=e[ie[m]];E&&E.type&&(d=y(E.type)||d),o=f(e,u,d,i.errorCallback),l.push(o)}o instanceof WebGLShader&&s.push(o)}if(s.length!==t.length)return programOptions.errorCallback('not enough shaders for program'),p(e,l),null;var T=e.createProgram();s.forEach(function(t){e.attachShader(T,t)}),i.attribLocations&&Object.keys(i.attribLocations).forEach(function(t){e.bindAttribLocation(T,i.attribLocations[t],t)});var c=i.transformFeedbackVaryings;c&&(c.attribs&&(c=c.attribs),!Array.isArray(c)&&(c=Object.keys(c)),e.transformFeedbackVaryings(T,c,i.transformFeedbackMode||e.SEPARATE_ATTRIBS)),e.linkProgram(T);var R=e.getProgramParameter(T,e.LINK_STATUS);if(!R){var x=e.getProgramInfoLog(T);return i.errorCallback('Error in program linking:'+x),e.deleteProgram(T),p(e,l),null}return T}function c(e,t,r,a){var n='',o=document.getElementById(t);if(!o)throw'*** Error: unknown script element'+t;n=o.text;var i=r||y(o.type);if(!i)throw'*** Error: unknown shader type';return f(e,n,i,a)}function R(e,t,r,a,n){for(var o,i=b(r,a,n),s=[],l=0;l<t.length;++l){if(o=f(e,t[l],e[ie[l]],i.errorCallback),!o)return null;s.push(o)}return T(e,s,i)}function x(e,t){function r(t,r){var a=e.getUniformLocation(t,r.name),n=1<r.size&&'[0]'===r.name.substr(-3),i=r.type,s=re[i];if(!s)throw'unknown type: 0x'+i.toString(16);var l;if(s.bindPoint){var m=o;o+=r.size,l=n?s.arraySetter(e,i,m,a,r.size):s.setter(e,i,m,a,r.size)}else l=s.arraySetter&&n?s.arraySetter(e,a):s.setter(e,a);return l.location=a,l}for(var a,n,o=0,i={},s=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),l=0;l<s&&(a=e.getActiveUniform(t,l),!!a);++l){n=a.name,'[0]'===n.substr(-3)&&(n=n.substr(0,n.length-3));var m=r(t,a);i[n]=m}return i}function _(e,t){for(var r,a={},n=e.getProgramParameter(t,e.TRANSFORM_FEEDBACK_VARYINGS),o=0;o<n;++o)r=e.getTransformFeedbackVarying(t,o),a[r.name]={index:o,type:r.type,size:r.size};return a}function A(e,t,r){for(var a in t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),r.attribs&&(r=r.attribs),r){var n=t[a];if(n){var o=r[a];o.offset?e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,n.index,o.buffer,o.offset,o.size):e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,n.index,o.buffer)}}}function F(e,t,r){for(var a in t.transformFeedbackInfo&&(t=t.transformFeedbackInfo),r.attribs&&(r=r.attribs),r){var n=t[a];n&&e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,n.index,null)}}function g(e,t){for(var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),a=[],n=[],o=0;o<r;++o){n.push(o),a.push({});var i=e.getActiveUniform(t,o);if(!i)break;a[o].name=i.name}[['UNIFORM_TYPE','type'],['UNIFORM_SIZE','size'],['UNIFORM_BLOCK_INDEX','blockNdx'],['UNIFORM_OFFSET','offset']].forEach(function(r){var o=r[0],i=r[1];e.getActiveUniforms(t,n,e[o]).forEach(function(e,t){a[t][i]=e})});var s={},l=e.getProgramParameter(t,e.ACTIVE_UNIFORM_BLOCKS);for(o=0;o<l;++o){var m=e.getActiveUniformBlockName(t,o),E={index:o,usedByVertexShader:e.getActiveUniformBlockParameter(t,o,e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:e.getActiveUniformBlockParameter(t,o,e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:e.getActiveUniformBlockParameter(t,o,e.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:e.getActiveUniformBlockParameter(t,o,e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};E.used=E.usedByVertexSahder||E.usedByFragmentShader,s[m]=E}return{blockSpecs:s,uniformData:a}}function h(e,t,r,a){var n=r.blockSpecs,o=r.uniformData,i=n[a];if(!i)return S('no uniform block object named:',a),{name:a,uniforms:{}};var s=new ArrayBuffer(i.size),l=e.createBuffer(),m=i.index;e.bindBuffer(e.UNIFORM_BUFFER,l),e.uniformBlockBinding(t,i.index,m);var E=a+'.';se.test(E)&&(E=E.replace(se,'.'));var u={};return i.uniformIndices.forEach(function(e){var t=o[e],r=re[t.type],a=r.Type,n=t.size*r.size,i=t.name;i.substr(0,E.length)===E&&(i=i.substr(E.length)),u[i]=new a(s,t.offset,n/a.BYTES_PER_ELEMENT)}),{name:a,array:s,asFloat:new Float32Array(s),buffer:l,uniforms:u}}function P(e,t,r){var a=t.uniformBlockSpec||t,n=a.blockSpecs[r.name];if(n){var o=n.index;return e.bindBufferRange(e.UNIFORM_BUFFER,o,r.buffer,r.offset||0,r.array.byteLength),!0}return!1}function I(e){for(var t,r=e.uniformSetters||e,a=arguments.length,n=1;n<a;++n)if(t=arguments[n],Array.isArray(t))for(var o=t.length,i=0;i<o;++i)I(r,t[i]);else for(var s in t){var l=r[s];l&&l(t[s])}}function U(e,t){for(var r,a={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n&&(r=e.getActiveAttrib(t,o),!!r);++o){var i=e.getAttribLocation(t,r.name),s=ae[r.type],l=s.setter(e,i,s);l.location=i,a[r.name]=l}return a}function B(e,t){for(var r in t){var a=e[r];a&&a(t[r])}}function C(t,r){var a=x(t,r),n=U(t,r),o={program:r,uniformSetters:a,attribSetters:n};return e.isWebGL2(t)&&(o.uniformBlockSpec=g(t,r),o.transformFeedbackInfo=_(t,r)),o}var N=e.error,S=e.warn,L=5126,O=35664,D=35665,w=35666,M=5124,G=35667,z=35668,v=35669,k=35670,X=35671,V=35672,Y=35673,W=35674,H=35675,K=35676,j=5125,Z=36294,q=36295,J=36296,Q=3553,$=34067,ee=32879,te=35866,re={};re[L]={Type:Float32Array,size:4,setter:function(e,t){return function(r){e.uniform1f(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1fv(t,r)}}},re[O]={Type:Float32Array,size:8,setter:function(e,t){return function(r){e.uniform2fv(t,r)}}},re[D]={Type:Float32Array,size:12,setter:function(e,t){return function(r){e.uniform3fv(t,r)}}},re[w]={Type:Float32Array,size:16,setter:function(e,t){return function(r){e.uniform4fv(t,r)}}},re[M]={Type:Int32Array,size:4,setter:r,arraySetter:a},re[G]={Type:Int32Array,size:8,setter:n},re[z]={Type:Int32Array,size:12,setter:o},re[v]={Type:Int32Array,size:16,setter:i},re[j]={Type:Uint32Array,size:4,setter:function(e,t){return function(r){e.uniform1ui(t,r)}},arraySetter:function(e,t){return function(r){e.uniform1uiv(t,r)}}},re[Z]={Type:Uint32Array,size:8,setter:function(e,t){return function(r){e.uniform2uiv(t,r)}}},re[q]={Type:Uint32Array,size:12,setter:function(e,t){return function(r){e.uniform3uiv(t,r)}}},re[J]={Type:Uint32Array,size:16,setter:function(e,t){return function(r){e.uniform4uiv(t,r)}}},re[k]={Type:Uint32Array,size:4,setter:r,arraySetter:a},re[X]={Type:Uint32Array,size:8,setter:n},re[V]={Type:Uint32Array,size:12,setter:o},re[Y]={Type:Uint32Array,size:16,setter:i},re[W]={Type:Float32Array,size:16,setter:function(e,t){return function(r){e.uniformMatrix2fv(t,!1,r)}}},re[H]={Type:Float32Array,size:36,setter:function(e,t){return function(r){e.uniformMatrix3fv(t,!1,r)}}},re[K]={Type:Float32Array,size:64,setter:function(e,t){return function(r){e.uniformMatrix4fv(t,!1,r)}}},re[35685]={Type:Float32Array,size:24,setter:function(e,t){return function(r){e.uniformMatrix2x3fv(t,!1,r)}}},re[35686]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix2x4fv(t,!1,r)}}},re[35687]={Type:Float32Array,size:24,setter:function(e,t){return function(r){e.uniformMatrix3x2fv(t,!1,r)}}},re[35688]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix3x4fv(t,!1,r)}}},re[35689]={Type:Float32Array,size:32,setter:function(e,t){return function(r){e.uniformMatrix4x2fv(t,!1,r)}}},re[35690]={Type:Float32Array,size:48,setter:function(e,t){return function(r){e.uniformMatrix4x3fv(t,!1,r)}}},re[35678]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:Q},re[35680]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:$},re[35679]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:ee},re[35682]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:Q},re[36289]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:te},re[36292]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:te},re[36293]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:$},re[36298]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:Q},re[36299]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:ee},re[36300]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:$},re[36303]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:te},re[36306]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:Q},re[36307]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:ee},re[36308]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:$},re[36311]={Type:null,size:0,setter:s,arraySetter:l,bindPoint:te};var ae={};ae[L]={size:4,setter:m},ae[O]={size:8,setter:m},ae[D]={size:12,setter:m},ae[w]={size:16,setter:m},ae[M]={size:4,setter:E},ae[G]={size:8,setter:E},ae[z]={size:12,setter:E},ae[v]={size:16,setter:E},ae[j]={size:4,setter:E},ae[Z]={size:8,setter:E},ae[q]={size:12,setter:E},ae[J]={size:16,setter:E},ae[k]={size:4,setter:E},ae[X]={size:8,setter:E},ae[V]={size:12,setter:E},ae[Y]={size:16,setter:E},ae[W]={size:4,setter:u,count:2},ae[H]={size:9,setter:u,count:3},ae[K]={size:16,setter:u,count:4};var ne,oe=/^[ \t]*\n/,ie=['VERTEX_SHADER','FRAGMENT_SHADER'],se=/\[\d+\]\.$/;return{createAttributeSetters:U,createProgram:T,createProgramFromScripts:function(e,t,r,a,n){for(var o,i=b(r,a,n),s=[],l=0;l<t.length;++l){if(o=c(e,t[l],e[ie[l]],i.errorCallback),!o)return null;s.push(o)}return T(e,s,i)},createProgramFromSources:R,createProgramInfo:function(e,t,r,a,n){var o=b(r,a,n),i=!0;if(t=t.map(function(e){if(0>e.indexOf('\n')){var t=document.getElementById(e);t?e=t.text:(o.errorCallback('no element with id: '+e),i=!1)}return e}),!i)return null;var s=R(e,t,o);return s?C(e,s):null},createProgramInfoFromProgram:C,createUniformSetters:x,createUniformBlockSpecFromProgram:g,createUniformBlockInfoFromProgram:h,createUniformBlockInfo:function(e,t,r){return h(e,t.program,t.uniformBlockSpec,r)},createTransformFeedback:function(e,t,r){var a=e.createTransformFeedback();return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,a),e.useProgram(t.program),A(e,t,r),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),F(e,t,r),a},createTransformFeedbackInfo:_,bindTransformFeedbackInfo:A,setAttributes:B,setBuffersAndAttributes:function(e,t,r){r.vertexArrayObject?e.bindVertexArray(r.vertexArrayObject):(B(t.attribSetters||t,r.attribs),r.indices&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r.indices))},setUniforms:I,setUniformBlock:function(e,t,r){P(e,t,r)&&e.bufferData(e.UNIFORM_BUFFER,r.array,e.DYNAMIC_DRAW)},setBlockUniforms:function(e,t){var r=e.uniforms;for(var a in t){var n=r[a];if(n){var o=t[a];o.length?n.set(o):n[0]=o}}},bindUniformBlock:P}}.apply(t,a),!(n!==void 0&&(e.exports=n))},function(e,t,r){var a,n;'use strict',a=[r(8),r(4)],n=function(e,t){'use strict';function r(e){return u[e]}function a(e){return d[e]}var n=33189,o=6401,i=36168,s=34041,l=36096,m=36128,E=[{format:6408,type:5121,min:9729,wrap:33071},{format:s}],u={};u[s]=33306,u[o]=m,u[i]=m,u[6402]=l,u[n]=l;var d={};return d[32854]=!0,d[32855]=!0,d[36194]=!0,d[s]=!0,d[n]=!0,d[o]=!0,d[i]=!0,{bindFramebufferInfo:function(e,t,r){r=r||e.FRAMEBUFFER,t?(e.bindFramebuffer(r,t.framebuffer),e.viewport(0,0,t.width,t.height)):(e.bindFramebuffer(r,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))},createFramebufferInfo:function(n,o,i,s){var l=n.FRAMEBUFFER,m=n.createFramebuffer();n.bindFramebuffer(l,m),i=i||n.drawingBufferWidth,s=s||n.drawingBufferHeight,o=o||E;var u=0,d={framebuffer:m,attachments:[],width:i,height:s};return o.forEach(function(o){var m=o.attachment,E=o.format,f=r(E);if(f||(f=36064+u++),!m)if(a(E))m=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,m),n.renderbufferStorage(n.RENDERBUFFER,E,i,s);else{var b=t.shallowCopy(o);b.width=i,b.height=s,void 0===b.auto&&(b.auto=!1,b.min=b.min||b.minMag||n.LINEAR,b.mag=b.mag||b.minMag||n.LINEAR,b.wrapS=b.wrapS||b.wrap||n.CLAMP_TO_EDGE,b.wrapT=b.wrapT||b.wrap||n.CLAMP_TO_EDGE),m=e.createTexture(n,b)}if(m instanceof WebGLRenderbuffer)n.framebufferRenderbuffer(l,f,n.RENDERBUFFER,m);else if(m instanceof WebGLTexture)n.framebufferTexture2D(l,f,o.texTarget||n.TEXTURE_2D,m,o.level||0);else throw'unknown attachment type';d.attachments.push(m)}),d},resizeFramebufferInfo:function(t,r,a,n,o){n=n||t.drawingBufferWidth,o=o||t.drawingBufferHeight,r.width=n,r.height=o,a=a||E,a.forEach(function(a,i){var s=r.attachments[i],l=a.format;if(s instanceof WebGLRenderbuffer)t.bindRenderbuffer(t.RENDERBUFFER,s),t.renderbufferStorage(t.RENDERBUFFER,l,n,o);else if(s instanceof WebGLTexture)e.resizeTexture(t,s,a,n,o);else throw'unknown attachment type'})}}}.apply(t,a),!(n!==void 0&&(e.exports=n))},function(t,r,a){var n,o;'use strict',n=[a(3),a(4)],o=function(t,r){'use strict';function a(e,t){var r=f[e];if(!r)throw'unknown internal format';var a=r.bytesPerElementMap[t];if(a===void 0)throw'unknown internal format';return a}function n(e){var t=f[e];if(!t)throw'unknown internal format';return{format:t.textureFormat,type:Array.isArray(t.type)?t.type[0]:t.type}}function o(e){return 0==(e&e-1)}function i(e,t,a,n){if(!r.isWebGL2(e))return o(t)&&o(a);var i=f[n];if(!i)throw'unknown internal format';return i.colorRenderable&&i.textureFilterable}function s(e){var t=f[e];if(!t)throw'unknown internal format';return t.textureFilterable}function l(e,r,a){return O(r)?t.getGLTypeForTypedArray(r):a||e.UNSIGNED_BYTE}function m(e,t,r,a,n){if(0!=n%1)throw'can\'t guess dimensions';if(!r&&!a){var o=Math.sqrt(n/(t===e.TEXTURE_CUBE_MAP?6:1));0==o%1?(r=o,a=o):(r=n,a=1)}else if(!a){if(a=n/r,a%1)throw'can\'t guess dimensions';}else if(!r&&(r=n/a,r%1))throw'can\'t guess dimensions';return{width:r,height:a}}function E(e){L.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function u(e,t){t.colorspaceConversion!==void 0&&(ue.colorspaceConversion=e.getParameter(e.UNPACK_COLORSPACE_CONVERSION_WEBGL),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.colorspaceConversion)),t.premultiplyAlpha!==void 0&&(ue.premultiplyAlpha=e.getParameter(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha)),t.flipY!==void 0&&(ue.flipY=e.getParameter(e.UNPACK_FLIP_Y_WEBGL),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY))}function b(e,t){t.colorspaceConversion!==void 0&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,ue.colorspaceConversion),t.premultiplyAlpha!==void 0&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),t.flipY!==void 0&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,ue.flipY)}function d(e,t,r,a){a.minMag&&(r.call(e,t,e.TEXTURE_MIN_FILTER,a.minMag),r.call(e,t,e.TEXTURE_MAG_FILTER,a.minMag)),a.min&&r.call(e,t,e.TEXTURE_MIN_FILTER,a.min),a.mag&&r.call(e,t,e.TEXTURE_MAG_FILTER,a.mag),a.wrap&&(r.call(e,t,e.TEXTURE_WRAP_S,a.wrap),r.call(e,t,e.TEXTURE_WRAP_T,a.wrap),(t===e.TEXTURE_3D||t instanceof de)&&r.call(e,t,e.TEXTURE_WRAP_R,a.wrap)),a.wrapR&&r.call(e,t,e.TEXTURE_WRAP_R,a.wrapR),a.wrapS&&r.call(e,t,e.TEXTURE_WRAP_S,a.wrapS),a.wrapT&&r.call(e,t,e.TEXTURE_WRAP_T,a.wrapT),a.minLod&&r.call(e,t,e.TEXTURE_MIN_LOD,a.minLod),a.maxLod&&r.call(e,t,e.TEXTURE_MAX_LOD,a.maxLod),a.baseLevel&&r.call(e,t,e.TEXTURE_BASE_LEVEL,a.baseLevel),a.maxLevel&&r.call(e,t,e.TEXTURE_MAX_LEVEL,a.maxLevel)}function y(e,t,r){var a=r.target||e.TEXTURE_2D;e.bindTexture(a,t),d(e,a,e.texParameteri,r)}function p(e,t,r){d(e,t,e.samplerParameteri,r)}function T(e,t){var r=e.createSampler();return p(e,r,t),r}function c(e){return e=e||L.textureColor,O(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function R(e,t,r,a,n,o,l){r=r||L.textureOptions,o=o||e.RGBA,l=l||e.UNSIGNED_BYTE;var m=r.target||e.TEXTURE_2D;if(a=a||r.width,n=n||r.height,e.bindTexture(m,t),i(e,a,n,o,l))e.generateMipmap(m);else{var E=s(o,l)?e.LINEAR:e.NEAREST;e.texParameteri(m,e.TEXTURE_MIN_FILTER,E),e.texParameteri(m,e.TEXTURE_MAG_FILTER,E),e.texParameteri(m,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(m,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}function x(e,t){return t=t||{},t.cubeFaceOrder||[e.TEXTURE_CUBE_MAP_POSITIVE_X,e.TEXTURE_CUBE_MAP_NEGATIVE_X,e.TEXTURE_CUBE_MAP_POSITIVE_Y,e.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.TEXTURE_CUBE_MAP_POSITIVE_Z,e.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function _(e,t){var r=x(e,t),a=r.map(function(e,t){return{face:e,ndx:t}});return a.sort(function(e,t){return e.face-t.face}),a}function A(t,r,a,o){o=o||L.textureOptions;var i=o.target||t.TEXTURE_2D,s=a.width,l=a.height,m=o.internalFormat||o.format||t.RGBA,E=n(m),p=o.format||E.format,T=o.type||E.type;if(u(t,o),t.bindTexture(i,r),i===t.TEXTURE_CUBE_MAP){var c,x,f=a.width,A=a.height;if(f/6===A)c=A,x=[0,0,1,0,2,0,3,0,4,0,5,0];else if(A/6===f)c=f,x=[0,0,0,1,0,2,0,3,0,4,0,5];else if(f/3==A/2)c=f/3,x=[0,0,1,0,2,0,0,1,1,1,2,1];else if(f/2==A/3)c=f/2,x=[0,0,1,0,0,1,1,1,0,2,1,2];else throw'can\'t figure out cube map from element: '+(a.src?a.src:a.nodeName);D.canvas.width=c,D.canvas.height=c,s=c,l=c,_(t,o).forEach(function(e){var r=x[2*e.ndx+0]*c,n=x[2*e.ndx+1]*c;D.drawImage(a,r,n,c,c,0,0,c,c),t.texImage2D(e.face,0,m,p,T,D.canvas)}),D.canvas.width=1,D.canvas.height=1}else if(i===t.TEXTURE_3D){var F=Math.min(a.width,a.height),g=e(a.width,a.height),h=g/F;if(0!=h%1)throw'can not compute 3D dimensions of element';var P=a.width===g?1:0,I=a.height===g?1:0;t.texImage3D(i,0,m,F,F,F,0,p,T,null),D.canvas.width=F,D.canvas.height=F;for(var U=0;U<h;++U){var d=U*F*P,B=U*F*I;D.drawImage(a,d,B,F,F,0,0,F,F),t.texSubImage3D(i,0,0,0,U,F,F,1,p,T,D.canvas)}D.canvas.width=0,D.canvas.height=0}else t.texImage2D(i,0,m,p,T,a);b(t,o),!1!==o.auto&&R(t,r,o,s,l,m,T),y(t,r,o)}function F(){}function g(e,t,a){function n(){s.removeEventListener('error',o),s.removeEventListener('load',i),s=null}function o(){var t='couldn\'t load image: '+e;r.error(t),a(t,s),n()}function i(){a(null,s),n()}a=a||F;var s=new Image;return t=void 0===t?L.crossOrigin:t,void 0!==t&&(s.crossOrigin=t),s.addEventListener('error',o),s.addEventListener('load',i),s.src=e,s}function h(e,t,r){r=r||L.textureOptions;var a=r.target||e.TEXTURE_2D;if(e.bindTexture(a,t),!1!==r.color){var n=c(r.color);if(a===e.TEXTURE_CUBE_MAP)for(var o=0;6>o;++o)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,n);else a===e.TEXTURE_3D||a===e.TEXTURE_2D_ARRAY?e.texImage3D(a,0,e.RGBA,1,1,1,0,e.RGBA,e.UNSIGNED_BYTE,n):e.texImage2D(a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,n)}}function P(e,t,a,n){n=n||F,a=a||L.textureOptions,h(e,t,a),a=r.shallowCopy(a);var o=g(a.src,a.crossOrigin,function(r,o){r?n(r,t,o):(A(e,t,o,a),n(null,t,o))});return o}function I(e,t,a,o){function i(r){return function(n,i){--p,n?T.push(n):i.width===i.height?(u(e,a),e.bindTexture(f,t),5==p?x(e).forEach(function(t){e.texImage2D(t,0,l,E,d,i)}):e.texImage2D(r,0,l,E,d,i),b(e,a),e.generateMipmap(f)):T.push('cubemap face img is not a square: '+i.src),0==p&&o(T.length?T:void 0,y,t)}}o=o||F;var s=a.src;if(6!==s.length)throw'there must be 6 urls for a cubemap';var l=a.internalFormat||a.format||e.RGBA,m=n(l),E=a.format||m.format,d=a.type||e.UNSIGNED_BYTE,f=a.target||e.TEXTURE_2D;if(f!==e.TEXTURE_CUBE_MAP)throw'target must be TEXTURE_CUBE_MAP';h(e,t,a),a=r.shallowCopy(a);var y,p=6,T=[],c=x(e,a);y=s.map(function(e,t){return g(e,a.crossOrigin,i(c[t]))})}function U(e,t,a,o){function i(r){return function(n,i){if(--p,n)T.push(n);else{if(u(e,a),e.bindTexture(f,t),_){_=!1,c=a.width||i.width,R=a.height||i.height,e.texImage3D(f,0,l,c,R,x,0,E,d,null);for(var m=0;m<x;++m)e.texSubImage3D(f,0,0,0,m,c,R,1,E,d,i)}else{var s=i;(i.width!==c||i.height!==R)&&(s=D.canvas,D.canvas.width=c,D.canvas.height=R,D.drawImage(i,0,0,c,R)),e.texSubImage3D(f,0,0,0,r,c,R,1,E,d,s),s===D.canvas&&(D.canvas.width=0,D.canvas.height=0)}b(e,a),e.generateMipmap(f)}0===p&&o(T.length?T:void 0,y,t)}}o=o||F;var s=a.src,l=a.internalFormat||a.format||e.RGBA,m=n(l),E=a.format||m.format,d=a.type||e.UNSIGNED_BYTE,f=a.target||e.TEXTURE_2D_ARRAY;if(f!==e.TEXTURE_3D&&f!==e.TEXTURE_2D_ARRAY)throw'target must be TEXTURE_3D or TEXTURE_2D_ARRAY';h(e,t,a),a=r.shallowCopy(a);var y,p=s.length,T=[],c=a.width,R=a.height,x=s.length,_=!0;y=s.map(function(e,t){return g(e,a.crossOrigin,i(t))})}function B(e,r,o,i){i=i||L.textureOptions;var s=i.target||e.TEXTURE_2D;e.bindTexture(s,r);var E=i.width,d=i.height,f=i.depth,y=i.internalFormat||i.format||e.RGBA,p=n(y),T=i.format||p.format,c=i.type||l(e,o,p.type);if(!O(o)){var R=t.getTypedArrayTypeForGLType(c);o=new R(o)}else o instanceof Uint8ClampedArray&&(o=new Uint8Array(o.buffer));var x=a(y,c),A=o.byteLength/x;if(A%1)throw'length wrong size for format: '+Ee(e,T);var F;if(s!==e.TEXTURE_3D)F=m(e,s,E,d,A),E=F.width,d=F.height;else if(!E&&!d&&!f){var g=Math.cbrt(A);if(0!=g%1)throw'can\'t guess cube size of array of numElements: '+A;E=g,d=g,f=g}else!E||d&&f?!d||E&&f?(F=m(e,s,E,d,A/f),E=F.width,d=F.height):(F=m(e,s,E,f,A/d),E=F.width,f=F.height):(F=m(e,s,d,f,A/E),d=F.width,f=F.height);return e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment||1),u(e,i),s===e.TEXTURE_CUBE_MAP?function(){var t=x/o.BYTES_PER_ELEMENT,r=A/6*t;_(e,i).forEach(function(t){var a=r*t.ndx,n=o.subarray(a,a+r);e.texImage2D(t.face,0,y,E,d,0,T,c,n)})}():s===e.TEXTURE_3D?e.texImage3D(s,0,y,E,d,f,0,T,c,o):e.texImage2D(s,0,y,E,d,0,T,c,o),b(e,i),{width:E,height:d,depth:f,type:c}}function C(e,t,r){var a=r.target||e.TEXTURE_2D;e.bindTexture(a,t);var o=r.internalFormat||r.format||e.RGBA,i=n(o),s=r.format||i.format,l=r.type||i.type;if(u(e,r),a===e.TEXTURE_CUBE_MAP)for(var m=0;6>m;++m)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,o,r.width,r.height,0,s,l,null);else a===e.TEXTURE_3D?e.texImage3D(a,0,o,r.width,r.height,r.depth,0,s,l,null):e.texImage2D(a,0,o,r.width,r.height,0,s,l,null);b(e,r)}function N(e,t,r){r=r||F,t=t||L.textureOptions;var a=e.createTexture(),o=t.target||e.TEXTURE_2D,i=t.width||1,s=t.height||1,l=t.internalFormat||e.RGBA,m=n(l),E=t.type||m.type;e.bindTexture(o,a),o===e.TEXTURE_CUBE_MAP&&(e.texParameteri(o,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(o,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));var u=t.src;if(!u)C(e,a,t);else if('function'==typeof u&&(u=u(e,t)),'string'==typeof u)P(e,a,t,r);else if(O(u)||Array.isArray(u)&&('number'==typeof u[0]||Array.isArray(u[0])||O(u[0]))){var d=B(e,a,u,t);i=d.width,s=d.height,E=d.type}else if(Array.isArray(u)&&'string'==typeof u[0])o===e.TEXTURE_CUBE_MAP?I(e,a,t,r):U(e,a,t,r);else if(u instanceof HTMLElement)A(e,a,u,t),i=u.width,s=u.height;else throw'unsupported src type';return!1!==t.auto&&R(e,a,t,i,s,l,E),y(e,a,t),a}function S(e){return'string'==typeof e||Array.isArray(e)&&'string'==typeof e[0]}var L={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},O=t.isArrayBuffer,D=document.createElement('canvas').getContext('2d'),w=6406,M=6407,G=6408,z=6409,v=6410,k=6402,X=34041,V=5120,Y=5121,W=5122,H=5123,K=5124,j=5125,Z=5126,q=32819,J=32820,Q=33635,$=5131,ee=36193,te=33640,re=33319,ae=33320,ne=6403,oe=36244,ie=36248,se=36249,le={};{var me=le;me[w]={numColorComponents:1},me[z]={numColorComponents:1},me[v]={numColorComponents:2},me[M]={numColorComponents:3},me[G]={numColorComponents:4},me[ne]={numColorComponents:1},me[oe]={numColorComponents:1},me[re]={numColorComponents:2},me[ae]={numColorComponents:2},me[M]={numColorComponents:3},me[ie]={numColorComponents:3},me[G]={numColorComponents:4},me[se]={numColorComponents:4},me[k]={numColorComponents:1},me[X]={numColorComponents:2}}var f={};(function(){var e=f;e[w]={textureFormat:w,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Y,$,ee,Z]},e[z]={textureFormat:z,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Y,$,ee,Z]},e[v]={textureFormat:v,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Y,$,ee,Z]},e[M]={textureFormat:M,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Y,$,ee,Z,Q]},e[G]={textureFormat:G,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Y,$,ee,Z,q,J]},e[33321]={textureFormat:ne,colorRenderable:!0,textureFilterable:!0,bytesPerElement:1,type:Y},e[36756]={textureFormat:ne,colorRenderable:!1,textureFilterable:!0,bytesPerElement:1,type:V},e[33325]={textureFormat:ne,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Z,$]},e[33326]={textureFormat:ne,colorRenderable:!1,textureFilterable:!1,bytesPerElement:4,type:Z},e[33330]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:1,type:Y},e[33329]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:1,type:V},e[33332]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:H},e[33331]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:W},e[33334]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:j},e[33333]={textureFormat:oe,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:K},e[33323]={textureFormat:re,colorRenderable:!0,textureFilterable:!0,bytesPerElement:2,type:Y},e[36757]={textureFormat:re,colorRenderable:!1,textureFilterable:!0,bytesPerElement:2,type:V},e[33327]={textureFormat:re,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Z,$]},e[33328]={textureFormat:re,colorRenderable:!1,textureFilterable:!1,bytesPerElement:8,type:Z},e[33336]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:Y},e[33335]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:V},e[33338]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:H},e[33337]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:W},e[33340]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:j},e[33339]={textureFormat:ae,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:K},e[32849]={textureFormat:M,colorRenderable:!0,textureFilterable:!0,bytesPerElement:3,type:Y},e[35905]={textureFormat:M,colorRenderable:!1,textureFilterable:!0,bytesPerElement:3,type:Y},e[36194]={textureFormat:M,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Y,Q]},e[36758]={textureFormat:M,colorRenderable:!1,textureFilterable:!0,bytesPerElement:3,type:V},e[35898]={textureFormat:M,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Z,$,35899]},e[35901]={textureFormat:M,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Z,$,35902]},e[34843]={textureFormat:M,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Z,$]},e[34837]={textureFormat:M,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:Z},e[36221]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:3,type:Y},e[36239]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:3,type:V},e[36215]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:6,type:H},e[36233]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:6,type:W},e[36209]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:j},e[36227]={textureFormat:ie,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:K},e[32856]={textureFormat:G,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:Y},e[35907]={textureFormat:G,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:Y},e[36759]={textureFormat:G,colorRenderable:!1,textureFilterable:!0,bytesPerElement:4,type:V},e[32855]={textureFormat:G,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Y,J,te]},e[32854]={textureFormat:G,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Y,q]},e[32857]={textureFormat:G,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:te},e[34842]={textureFormat:G,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Z,$]},e[34836]={textureFormat:G,colorRenderable:!1,textureFilterable:!1,bytesPerElement:16,type:Z},e[36220]={textureFormat:se,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:Y},e[36238]={textureFormat:se,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:V},e[36975]={textureFormat:se,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:te},e[36214]={textureFormat:se,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:H},e[36232]={textureFormat:se,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:W},e[36226]={textureFormat:se,colorRenderable:!0,textureFilterable:!1,bytesPerElement:16,type:K},e[36208]={textureFormat:se,colorRenderable:!0,textureFilterable:!1,bytesPerElement:16,type:j},e[33189]={textureFormat:k,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[H,j]},e[33190]={textureFormat:k,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:j},e[36012]={textureFormat:k,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:Z},e[35056]={textureFormat:X,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:34042},e[36013]={textureFormat:X,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:36269},Object.keys(e).forEach(function(t){var r=e[t];if(r.bytesPerElementMap={},Array.isArray(r.bytesPerElement))r.bytesPerElement.forEach(function(e,t){var a=r.type[t];r.bytesPerElementMap[a]=e});else{var a=r.type;r.bytesPerElementMap[a]=r.bytesPerElement}})})();var Ee=function(){function e(e){if(!t)for(var r in t={},e)'number'==typeof e[r]&&(t[e[r]]=r)}var t;return function(r,a){return e(r),t[a]||'0x'+a.toString(16)}}(),ue={},de=window.WebGLSampler||function(){};return{setDefaults_:function(e){r.copyExistingProperties(e,L),e.textureColor&&E(e.textureColor)},createSampler:T,createSamplers:function(e,t){var r={};return Object.keys(t).forEach(function(a){r[a]=T(e,t[a])}),r},setSamplerParameters:p,createTexture:N,setEmptyTexture:C,setTextureFromArray:B,loadTextureFromUrl:P,setTextureFromElement:A,setTextureFilteringForSize:R,setTextureParameters:y,setDefaultTextureColor:E,createTextures:function(e,t,r){function a(){0==n&&setTimeout(function(){r(o.length?o:void 0,i,s)},0)}r=r||F;var n=0,o=[],i={},s={};return Object.keys(t).forEach(function(r){var l,m=t[r];S(m.src)&&(l=function(e,t,i){s[r]=i,--n,e&&o.push(e),a()},++n),i[r]=N(e,m,l)}),a(),i},resizeTexture:function(e,t,r,a,o){a=a||r.width,o=o||r.height;var i=r.target||e.TEXTURE_2D;e.bindTexture(i,t);var s,m=r.internalFormat||r.format||e.RGBA,E=n(m),u=r.format||E.format,d=r.src;if(s=d?O(d)||Array.isArray(d)&&'number'==typeof d[0]?r.type||l(e,d,E.type):r.type||E.type:r.type||E.type,i===e.TEXTURE_CUBE_MAP)for(var f=0;6>f;++f)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+f,0,u,a,o,0,u,s,null);else e.texImage2D(i,0,u,a,o,0,u,s,null)},getNumComponentsForFormat:function(e){var t=le[e];if(!t)throw'unknown format: '+e;return t.numColorComponents},getBytesPerElementForInternalFormat:a}}.apply(r,n),!(o!==void 0&&(t.exports=o))},function(e,t,r){var a,n;'use strict',a=[r(6)],n=function(e){'use strict';function t(t,r,a,n){var o=t.createVertexArray();return t.bindVertexArray(o),e.setAttributes(r,a),n&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n),t.bindVertexArray(null),o}return{createVertexArrayInfo:function(t,r,a){var n=t.createVertexArray();return t.bindVertexArray(n),r.length||(r=[r]),r.forEach(function(r){e.setBuffersAndAttributes(t,r,a)}),t.bindVertexArray(null),{numElements:a.numElements,elementType:a.elementType,vertexArrayObject:n}},createVAOAndSetAttributes:t,createVAOFromBufferInfo:function(e,r,a){return t(e,r.attribSetters||r,a.attribs,a.indices)}}}.apply(t,a),!(n!==void 0&&(e.exports=n))}])});