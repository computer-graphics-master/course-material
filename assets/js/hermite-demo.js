define(['js/twgl','js/2d-boilerplate','js/sylvester','js/hermite'],function(a,b,c,d){'use strict';const e={HermiteDemo(a,b){this.Program(this.render,{element:a,id:b,width:640,height:480}),this.points=[c.$V([80,400]),c.$V([500,80]),c.$V([500,400]),c.$V([80,80])],this.curvePoints=[],this.isDragging=!1,this.isMouseJustPressed=!0,this.draggedPoint=null},getClickedPoint(a){for(let b=0;b<this.points.length;++b)if(10>=this.points[b].distanceFrom(a))return this.points[b];return null},onMouseDown(a){this.isMouseJustPressed&&(this.draggedPoint=this.getClickedPoint(a),this.draggedPoint&&(this.isDragging=!0),this.isMouseJustPressed=!1)},onMouseUp(){this.isDragging=!1,this.draggedPoint=null,this.isMouseJustPressed=!0},onMouseMove(a){this.isDragging&&this.draggedPoint&&(this.draggedPoint.elements=a.elements)},calculateCurve(){const a=c.$M([this.points[0].elements,this.points[1].elements,this.points[2].subtract(this.points[0]).elements,this.points[3].subtract(this.points[1]).elements]);this.curvePoints=d.calculateCurve(a.transpose().elements)},render(){this.renderPoints(),this.calculateCurve(),this.renderCurve()},renderCurve(){const b={position:{numComponents:2,data:this.curvePoints}},c=a.createBufferInfoFromArrays(this.gl,b);a.setBuffersAndAttributes(this.gl,this.programInfo,c),a.setUniforms(this.programInfo,{color:[1,0,0,1]}),a.drawBufferInfo(this.gl,c,this.gl.LINE_STRIP)},renderPoints(){const b={color:[0,0,1,1]},c={position:{numComponents:2,data:[...this.points[0].elements,...this.points[1].elements]}},d={position:{numComponents:2,data:[...this.points[0].elements,...this.points[2].elements,...this.points[1].elements,...this.points[3].elements]}},e=a.createBufferInfoFromArrays(this.gl,c),f=a.createBufferInfoFromArrays(this.gl,d);a.setBuffersAndAttributes(this.gl,this.programInfo,e),a.setUniforms(this.programInfo,b),a.drawBufferInfo(this.gl,e,this.gl.POINTS),a.setBuffersAndAttributes(this.gl,this.programInfo,f),a.setUniforms(this.programInfo,b),a.drawBufferInfo(this.gl,f,this.gl.LINES)}};return Object.setPrototypeOf(e,b),function(a,b){const c=Object.create(e);c.HermiteDemo(a,b),c.start(!1)}});